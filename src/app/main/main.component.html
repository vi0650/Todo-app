<main class="main-content">
  <ng-container *ngIf="selectedUser as user; else noUser">
    <div class="main-title">
      <h2 >Tasks</h2>
      <hr />
      <h3>{{ user.name }}</h3>
    </div>
    <br />
    <div class="add-task">
      <input type="text" placeholder="Enter task" [(ngModel)]="newTaskTitle" />
      <input type="date" [(ngModel)]="selectedDate" />
      <button (click)="addTask()">Add</button>
    </div>

    <ul class="task-list">
      <li *ngFor="let task of userTasks">
        <input type="checkbox" [(ngModel)]="task.completed" (change)="toggleCheck(task.id)">
        <span [ngStyle]="{'text-decoration' : task.completed ? 'line-through' : 'none'}">{{ task.title }}</span>
        <span [ngStyle]="{'text-decoration' : task.completed ? 'line-through' : 'none'}">{{ task.date | date }}</span>
        <span [ngStyle]="{'text-decoration' : task.completed ? 'line-through' : 'none'}">{{ task.id }}</span>
        <button class="delete" (click)="deleteTask(task.id)">âœ•</button>
      </li>
    </ul>
  </ng-container>

  <ng-template #noUser>
    <p>Select a user from the sidebar to manage tasks.</p>
  </ng-template>
</main>
